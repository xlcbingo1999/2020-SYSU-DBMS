# 可扩展哈希NVM下实现

## Tips
基本原理和讲解都写在项目README里，请动手前一定要仔细阅读完之后再进行实现，方便自己理解框架中每个函数的功能是什么。直观理解就是扩展哈希持久化在NVM上，使用NVM编程方法进行文件操作，然后文件数据管理通过自己设计的定长页表进行空间管理，为哈希分配和回收空间。

## 项目代码实现要求
1. **pm_ehash.h & pm_ehash.cpp**: 基本的增删改查接口操作以及其他要调用的函数实现
1. **data_page.h & data_page.cpp**: 底层页表设计和简单的空间管理
1. **ehash_test.cpp**: 通过gtest简单的测试
1. **ycsb.cpp**: 自编写测试代码进行YCSB测试
1. 底层NVM编程，修改数据时要符合NVM的规范
1. makefile编译命令编写，生成ycsb和ehash_test的编译命令(ehash_test我写了基本的，没有加data_page或者其他源文件的编译链接，需要自己实现后自行加入)

## 评分标准
1. 可扩展哈希基本功能和页表设计以及功能的实现 -- 60分
1. gtest和YCSB测试结果以及结果截图 -- 20分
1. 代码必要注释以及良好的代码风格 -- 10分
1. 完善的实验报告(必须交) -- 10分

## 加分项
不做加分项一般都会根据代码和实验报告瑕疵扣少数分，所以一般没有满分。做了加分项，分数100为上限。下面为加分项：
1. YCSB性能测试后，优化自己最初的设计，讲解优化原理和结果 -- 10分
1. 多线程实现可扩展哈希并进行YCSB测试，讲解多线程实现原理并对比单线程的性能 -- 15分

## 注意事项
1. 运行代码前记得设置自己的数据目录，在pm_ehash.h中的PM_EHASH_DIRECTORY
1. 小组交一份代码，并在最后截止日期前将仓库地址发给TA

## 实验报告
自由发挥，注重把可扩展哈希各项功能以及页表设计和实现的相关原理讲清楚，最好通过代码讲解。报告格式要易于阅读，且内容必须包括以下方面：
1. 小组成员以及各成员的具体分工，分别做了什么具体工作
1. 可扩展哈希增删该查操作及所有相关功能的原理以及相关代码讲解，包括可扩展哈希特有的目录倍增等操作。
1. 定长页表设计的实现原理以及相关操作
1. 修改NVM的文件数据时是如何修改的，通过调用什么具体函数，需要注意什么问题(Cache)
1. gtest单元测试结果截图
1. YCSB性能测试的结果截图以及实验分析，什么操作快，什么慢，为什么会出现这个结果。
1. 做了加分项，将加分项的实现思路原理以及相关关键代码解释，并截图展示必要结果

实验报告命名格式：组号_proj_task2_report

